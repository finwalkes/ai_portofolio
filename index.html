<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nexus Bagus ‚Äî AI Portfolio Advanced</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <style>
    html { scroll-behavior: smooth; }
    body { transition: background 0.3s, color 0.3s; }
    .gradient-bg { background: radial-gradient(circle at 30% 70%, #0ea5e9 0%, #1e293b 40%, #020617 100%); }
    .light-bg { background: radial-gradient(circle at 70% 30%, #f3f4f6 0%, #a7f3d0 50%, #38bdf8 100%); color:#1e293b;}
    #floating-obj { position: fixed; left: 3vw; bottom: 10vh; z-index: 10; width: 80px; height: 80px; cursor: pointer; }
    #floating-obj.dragging { transition: none !important; }
    #bubble-talk { position: fixed; left:110px; bottom:150px; background:#fff; color:#0369a1; border-radius:12px; padding:10px 16px; box-shadow:0 8px 32px #0003; font-weight:bold; font-size:1rem; z-index:99; }
    #mode-toggle { position:fixed;top:26px;right:26px;z-index:99;cursor:pointer; background:rgba(0,0,0,0.20); border-radius:999px; padding:8px;}
    #particles-bg {position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-2;}
    #chatbot-widget { position: fixed; bottom: 32px; right: 32px; z-index: 100; background: #0ea5e9; border-radius: 9999px; box-shadow: 0 8px 32px #0005; display: flex; align-items: center; cursor: pointer; padding: 16px; transition: background 0.2s;}
    #chatbot-widget:hover { background: #0369a1; }
    #chatbot-popup { position: fixed; bottom: 100px; right: 40px; width: 380px; max-width: 97vw; background: #181d24; color: #fff; border-radius: 1rem; box-shadow: 0 10px 40px #0007; z-index: 101; display: none; flex-direction: column; animation: fadeInUp 0.6s; border: 2px solid #0ea5e9; overflow: hidden;}
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(60px);} to   { opacity: 1; transform: translateY(0);} }
    #chatbot-messages {height: 260px; overflow-y: auto; padding: 1rem 1rem 0 1rem; background: #222b38;}
    #chatbot-input {width:100%;border:none;background:#1e293b;color:#fff;padding:10px 12px;border-radius:8px;}
    #chatbot-send { background: #0ea5e9; color: #fff; font-weight: bold; padding: 8px 20px; border-radius: 8px; margin-left: 8px; border: none; cursor: pointer; transition: background 0.2s;}
    #chatbot-send:hover { background: #0369a1; }
  </style>
</head>
<body class="gradient-bg min-h-screen text-white overflow-x-hidden">

<!-- PARTICLES -->
<canvas id="particles-bg"></canvas>

<!-- MODE TOGGLE -->
<div id="mode-toggle" onclick="toggleMode()" title="Mode gelap/terang">
  <span id="icon-dark" style="display:inline">üåô</span>
  <span id="icon-light" style="display:none">‚òÄÔ∏è</span>
</div>

<!-- LOGO KIRI ATAS -->
<div class="fixed top-6 left-6 z-50 flex items-center gap-3">
  <img src="0603f0d9-926f-4fef-8935-45749a2793d1.png" alt="Logo Bagus" class="w-12 h-12 rounded-full border-2 border-cyan-400 shadow-lg" />
  <span class="text-xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 text-transparent bg-clip-text">Nexus Bagus</span>
</div>

<!-- HERO SECTION -->
<section class="flex flex-col items-center justify-center min-h-screen text-center relative overflow-hidden pt-14 pb-16">
  <div class="mb-7 animate__animated animate__fadeInDown">
    <img src="0603f0d9-926f-4fef-8935-45749a2793d1.png" alt="Foto Bagus Nexus" class="w-32 h-32 rounded-full border-4 border-cyan-400 shadow-xl mx-auto">
  </div>
  <h1 class="text-4xl md:text-6xl font-extrabold bg-gradient-to-r from-blue-400 via-cyan-300 to-indigo-400 text-transparent bg-clip-text animate__animated animate__fadeInUp">Bagus Wahyu Pratomo</h1>
  <h2 class="text-xl md:text-2xl mt-4 font-semibold text-gray-200 animate__animated animate__fadeInUp animate__delay-1s">
    Digital Creator &bull; AI Explorer &bull; Web Developer
  </h2>
  <p class="max-w-xl text-gray-300 text-base md:text-lg mx-auto mt-5 mb-4 animate__animated animate__fadeIn animate__delay-2s">
    <span class="font-semibold text-cyan-300">Hi! Saya Bagus</span>, digital enthusiast dan penjelajah dunia AI.<br>
    Landing-page ini full animasi, interaktif, <b>powered by ChatGPT</b>.<br>
    <span class="text-cyan-200">Ayo coba drag bola AI, atau tanya apapun ke chatbot!</span>
  </p>
  <!-- Card Section -->
  <div class="flex flex-wrap justify-center gap-6 mt-8 mb-12">
    <div class="group bg-gray-800 rounded-2xl shadow-2xl p-7 w-64 transition transform hover:-translate-y-2 hover:scale-105 animate__animated animate__fadeInUp cursor-pointer"
         onclick="window.location.href='knowledge.html'">
      <div class="flex items-center gap-2 mb-2">
        <svg width="32" height="32" fill="none" stroke="#0ea5e9" stroke-width="2" viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" rx="4"/><path d="M8 8h8M8 12h5"/></svg>
        <span class="text-cyan-300 font-bold text-lg">Knowledge</span>
      </div>
      <p class="text-gray-300 text-base mb-2">Insight, artikel, dan tips AI & web. <span class="group-hover:text-cyan-300 transition">Knowledge base interaktif.</span></p>
      <a href="knowledge.html" class="text-cyan-400 text-sm underline group-hover:text-white transition">Lihat detail &rarr;</a>
    </div>
    <div class="group bg-gray-800 rounded-2xl shadow-2xl p-7 w-64 transition transform hover:-translate-y-2 hover:scale-105 animate__animated animate__fadeInUp animate__delay-1s cursor-pointer"
         onclick="window.location.href='project.html'">
      <div class="flex items-center gap-2 mb-2">
        <svg width="32" height="32" fill="none" stroke="#818cf8" stroke-width="2" viewBox="0 0 24 24"><rect x="3" y="7" width="18" height="13" rx="3"/><path d="M16 3v4M8 3v4"/></svg>
        <span class="text-indigo-300 font-bold text-lg">Project</span>
      </div>
      <p class="text-gray-300 text-base mb-2">Showcase proyek nyata: AI, web, open-source, produk digital.</p>
      <a href="project.html" class="text-indigo-300 text-sm underline group-hover:text-white transition">Jelajahi project &rarr;</a>
    </div>
    <div class="group bg-gray-800 rounded-2xl shadow-2xl p-7 w-64 transition transform hover:-translate-y-2 hover:scale-105 animate__animated animate__fadeInUp animate__delay-2s cursor-pointer"
         onclick="window.location.href='detail.html'">
      <div class="flex items-center gap-2 mb-2">
        <svg width="32" height="32" fill="none" stroke="#38bdf8" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 8v4l3 3"/></svg>
        <span class="text-blue-300 font-bold text-lg">Detail</span>
      </div>
      <p class="text-gray-300 text-base mb-2">Journey, story, proses membangun produk/AI, termasuk behind the scene!</p>
      <a href="detail.html" class="text-blue-300 text-sm underline group-hover:text-white transition">Cek detail &rarr;</a>
    </div>
  </div>
</section>

<!-- OBJECT INTERAKTIF: Bola AI -->
<div id="floating-obj" title="Drag or click me!">
  <svg width="80" height="80" viewBox="0 0 80 80">
    <circle cx="40" cy="40" r="35" fill="#0ea5e9" stroke="#06b6d4" stroke-width="4"/>
    <ellipse cx="40" cy="46" rx="18" ry="6" fill="#fff6" />
    <circle cx="32" cy="36" r="4" fill="#fff"/>
    <circle cx="48" cy="36" r="4" fill="#fff"/>
    <ellipse cx="40" cy="60" rx="8" ry="2" fill="#2226"/>
    <text x="40" y="56" font-size="13" text-anchor="middle" fill="#fff" font-family="Arial" font-weight="bold">AI</text>
  </svg>
</div>

<footer class="mt-16 mb-6 text-center text-gray-400">
  <div class="flex justify-center gap-6 mb-1">
    <a href="https://github.com/finwalkes" target="_blank" rel="noopener noreferrer" class="hover:text-white">GitHub</a>
    <a href="https://linkedin.com/in/bagus-wahyu-pratomo-iota" target="_blank" rel="noopener noreferrer" class="hover:text-white">LinkedIn</a>
    <a href="mailto:bgswahyup@email.com" class="hover:text-white">Email</a>
  </div>
  <div>
    &copy; 2025 Bagus Wahyu Pratomo ¬∑ Nexus Portfolio<br>
    <span class="text-sm">Brand, code, and content crafted by Bagus. Powered by TailwindCSS.</span>
  </div>
</footer>

<!-- CHATBOT FLOATING WIDGET -->
<div id="chatbot-widget" onclick="toggleChatbot()">
  <svg width="32" height="32" fill="none" stroke="white" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="#0369a1"/><path d="M8 14s1.5 2 4 2 4-2 4-2" stroke="#fff"/><circle cx="9" cy="10" r="1" fill="#fff"/><circle cx="15" cy="10" r="1" fill="#fff"/></svg>
</div>
<div id="chatbot-popup">
  <div class="flex items-center gap-2 p-3 border-b border-cyan-600 bg-cyan-950">
    <svg width="22" height="22" fill="none" stroke="#06b6d4" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><circle cx="9" cy="10" r="1" fill="#06b6d4"/><circle cx="15" cy="10" r="1" fill="#06b6d4"/><path d="M8 15s1.5 1.2 4 1.2 4-1.2 4-1.2" stroke="#06b6d4"/></svg>
    <b style="color:#36e3f7;">AI Chatbot (ChatGPT-4o)</b>
    <button onclick="toggleChatbot()" class="ml-auto text-xs bg-gray-800 px-2 py-0.5 rounded hover:bg-cyan-900">√ó</button>
  </div>
  <div id="chatbot-messages"></div>
  <form class="flex items-center gap-1 p-3 border-t border-cyan-600 bg-cyan-950" onsubmit="sendChatbot(event)">
    <input id="chatbot-input" type="text" placeholder="Tanya apa saja ke ChatGPT..." autocomplete="off" />
    <button id="chatbot-send" type="submit">Kirim</button>
  </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script>
// PARTICLES.js
particlesJS("particles-bg", {
  "particles": {
    "number": { "value": 38 },
    "color": { "value": "#38bdf8" },
    "shape": { "type": "circle" },
    "opacity": { "value": 0.3 },
    "size": { "value": 7, "random": true },
    "move": { "enable": true, "speed": 1.7 }
  },
  "interactivity": {
    "detect_on": "canvas",
    "events": { "onhover": { "enable": true, "mode": "repulse" } }
  }
});

// MODE DARK/LIGHT
function toggleMode() {
  let body = document.body;
  let isLight = body.classList.toggle('light-bg');
  document.getElementById('icon-dark').style.display = isLight ? 'none' : 'inline';
  document.getElementById('icon-light').style.display = isLight ? 'inline' : 'none';
}

// CHATBOT
function toggleChatbot() {
  const pop = document.getElementById('chatbot-popup');
  pop.style.display = pop.style.display === 'flex' ? 'none' : 'flex';
  if (pop.style.display === 'flex') setTimeout(()=>{document.getElementById('chatbot-input').focus();},200);
}
let chatbotWaiting = false;
async function sendChatbot(e) {
  e.preventDefault();
  const input = document.getElementById('chatbot-input');
  const msg = input.value.trim();
  if (!msg || chatbotWaiting) return;
  const box = document.getElementById('chatbot-messages');
  box.innerHTML += `<div class="mb-1"><b class="text-cyan-300">You:</b> <span>${msg}</span></div>`;
  input.value = ""; chatbotWaiting = true;
  box.innerHTML += `<div class="mb-1 text-gray-400" id="chatbot-wait">AI: sedang mengetik...</div>`;
  box.scrollTop = box.scrollHeight;
  // PROXY API CHATGPT-4o (lihat Step 2!)
  try {
    const res = await fetch("/api/chat", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ message: msg })
    });
    const data = await res.json();
    document.getElementById('chatbot-wait').remove();
    box.innerHTML += `<div class="mb-2"><b class="text-blue-400">AI:</b> <span>${(data.reply || "Gagal memproses").replace(/\n/g,'<br>')}</span></div>`;
    box.scrollTop = box.scrollHeight;
  } catch {
    document.getElementById('chatbot-wait').remove();
    box.innerHTML += `<div class="mb-2 text-red-400">[Gagal koneksi ke server AI]</div>`;
  }
  chatbotWaiting = false;
}

// OBJECT DRAG + BOUNCE
const obj = document.getElementById('floating-obj');
let isDragging = false, offset = {x:0,y:0};
obj.addEventListener('mousedown', (e)=>{
  isDragging = true; obj.classList.add('dragging');
  offset = { x: e.offsetX, y: e.offsetY };
});
document.addEventListener('mousemove', (e)=>{
  if(isDragging){
    obj.style.left = (e.clientX - offset.x) + 'px';
    obj.style.top = (e.clientY - offset.y) + 'px';
  }
});
document.addEventListener('mouseup', ()=>{
  if(isDragging) obj.classList.remove('dragging');
  isDragging = false;
});
obj.addEventListener('click', ()=>{
  if(isDragging) return;
  obj.style.transform = "scale(1.3) rotate(20deg)";
  setTimeout(()=>{obj.style.transform="";}, 220);
  if (!document.getElementById('bubble-talk')) {
    const talk = document.createElement('div');
    talk.id = 'bubble-talk';
    talk.innerText = ["Hai, aku bola AI!", "Drag aku kemana saja!", "Mau tanya AI? Klik chatbot!", "Keren, bro!"][Math.floor(Math.random()*4)];
    document.body.appendChild(talk);
    setTimeout(()=>{talk.remove();}, 1900);
  }
});
</script>
</body>
</html>
